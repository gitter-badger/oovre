<template name="header">
    
    <header class="main-header">
        <div class="container">
            <div class="logo">
                <a href="{{pathFor 'home'}}"><img src="/logo.png" alt=""></a>
            </div>

            <div class="menu">
                <ul>
                    <li><a href="{{pathFor 'home'}}">Home</a></li>
                    <li><a href="{{pathFor 'explore'}}">Explore</a></li>
                    <li><a href="{{pathFor 'stories'}}">Stories</a></li>
                    {{#if currentUser}}<li><a href="{{pathFor 'dashboard'}}">Me</a></li>{{/if}}
                </ul>
            </div>

            {{#if currentUser}}
            <div class="account-info">
                <div class="details">
                    <div class="name">{{currentUser.profile.name}}</div>
                    <div class="actions">
                        <a href="{{pathFor 'editAccount'}}" class="edit">Account</a>
                        <a href="#" class="logout">Logout</a>
                    </div>
                </div>
                <div class="profile-image">
                    <img src="{{avatar}}" alt="">
                </div>
            </div>
            {{else}}
            <div class="account-signup">
                {{> loginButtons}}
            </div>
            {{/if}}
            
            <!-- <div class="new-post">
                        <a href="#">New Post</a>
                    </div> -->
            {{#if isCurrentPost}}
            {{> editorActions}}
            {{else}}
            {{> globalActions}}
            {{/if}}

        </div>
    </header>

</template>


<template name="editorActions">
    <div class="menu actions">
        <ul>
            {{#if isCurrentPostEdit}}
            <li><a href="{{pathFor 'viewPost'}}" class="action view">View</a></li>
            {{else}}
            <li><a href="{{pathFor 'editPost'}}" class="action edit">Edit</a></li>
            {{/if}}
            <li><a href="#" class="action delete">Delete</a></li>
            {{#if isPublished}}
            <li><a href="#" class="action unpublish">Unpublish</a></li>
            {{else}}
            <li><a href="#" class="action publish">Publish</a></li>
            {{/if}}
        </ul>
    </div>
</template>

<template name="globalActions">
    {{#if currentUser}}
    <div class="menu actions">
        <ul>
            <li><a href="#" class="new-post">Create Post</a></li>
        </ul>
    </div>
    {{/if}}
</template>